
.table-responsive
  %table.table.table-condensed
    %thead
      %tr
        %th
          .row
            .col-md-6
              Users
            .col-md-6
              %form#user-search.form-inline{ role: 'form', action: admin_path }
                %input{name: 'authenticity_token', type: "hidden", value: form_authenticity_token}
                %label.control-label.sr-only Limit by user email
                .input-group
                  %input.form-control.input-sm{type: 'search', placeholder: 'User Email', name: 'search', value: params[:search]}/
                  .input-group-btn
                    %button.btn.btn-default.btn-sm{type: "submit", value: ""}
                      %i.glyphicon.glyphicon-search

        %th
          .row
            .col-md-6
              Roles
            .col-md-4.col-md-offset-2
              %select#role.form-control.pull-right.input-sm{data: {add_target: add_role_path, remove_target: remove_role_path, authenticity_token: form_authenticity_token}}
                %option.input-sm{value: "admin"} admin
                %option.input-sm{value: "owner"} owner
    %tbody
      - users.each do |user|
        %tr.user{data: {user_id: user.id}}
          %td= user.email
          %td
            - user.roles.each do |role|
              %span.label.label-success
                = role.name
                %a.remove-role{data: {role: role.name}}
                  %span.glyphicon.glyphicon-remove
            %button.add-role.btn.btn-primary.btn-xs.pull-right{type: "button"}
              %span.glyphicon.glyphicon-plus
              Add
